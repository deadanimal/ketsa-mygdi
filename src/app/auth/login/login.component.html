<ngx-loading-bar></ngx-loading-bar>
<section class="bgg"> 
    <div class="container-fluid">
      <div class="row row-grid align-items-center">
        <div class="col-md-2 order-md-3 float-right">
            <div class="form-group">
                <div class="card bcard square rounded-circle mr-4 mt-4 float-right">
                  <div class="card-body pointer" [routerLink]="['/dashboards/dashboard']">
                    <img height="50" src="assets/img/icons/common/metadata.png"/>
                  </div>
                  <h4 class="text-yellow text-center mt-2">Metadata</h4>
                </div>
                <div class="card gcard square rounded-circle mr-4 mt-4 float-right">
                  <div class="card-body pointer" [routerLink]="['/dashboards/dashboard']">
                    <img height="50" src="assets/img/icons/common/dataapp.png"/>
                  </div>
                  <h4 class="text-yellow text-center mt-2">Data Asas</h4>
                </div>
                <div class="card rcard square rounded-circle mr-4 mt-4 float-right">
                  <div class="card-body pointer" [routerLink]="['/dashboards/dashboard']">
                    <img height="50" src="assets/img/icons/common/tutorial.png"/>
                  </div>
                  <h4 class="text-yellow text-center mt-2">Tutorial</h4>
                </div>
              </div>
        </div>
        <div class="col-md-4 order-md-2">

        </div>
        
        <div class="col-md-6 order-md-1 p-8">
            <div class="card" style="background-color: rgba(255, 255, 255, 0.2);">
                
                <div class="card-body px-lg-5 py-lg-5">
                    <!--<div class="logo-box">
                        <img class="logo" [src]="">
                    </div>-->
                    <div class="text-white" style="font-size: 17px;">
                        <span>Maklumat geospatial kini dihujung jari anda.</span><br>
                        <span>Log Masuk.</span>
                    <br><br>
                    </div>
                    <div class="mb-4">
                        <a class="text-yellow" (click)="navigatePage('register')">
                            Pengguna Baru? Daftar sekarang.
                        </a>
                    </div>
                    <form [formGroup]="loginForm">
                        <div class="form-group mb-3" [ngClass]="{ focused: focusUsername === true }">
                            <div class="input-group input-group-alternative">
                                <div class="input-group-prepend">
                                    <span class="input-group-text bg-primary">
                                        <i class="fas fa-user text-white"></i>
                                    </span>
                                </div>
                                <input 
                                    class="form-control" 
                                    placeholder="ID Pengguna" 
                                    type="email"
                                    formControlName="username"
                                    (focus)="focusUsername = true" 
                                    (blur)="focusUsername = false"
                                />
                            </div>
                            <ng-container *ngFor="let message of loginFormMessages.username">
                                <div *ngIf="loginForm.get('username').hasError(message.type) && (loginForm.get('username').dirty || loginForm.get('username').touched)">
                                    <p class="error-message text-orange"><span>{{ message.message }}</span></p>
                                </div>
                            </ng-container>
                        </div>

                        <div class="form-group" [ngClass]="{ focused: focusPassword === true }">
                            <div class="input-group input-group-alternative">
                                <div class="input-group-prepend">
                                    <span class="input-group-text bg-primary">
                                        <i class="fas fa-lock text-white"></i>
                                    </span>
                                </div>
                                <input 
                                    class="form-control"
                                    placeholder="Kata Laluan"
                                    type="password"
                                    formControlName="password"
                                    (focus)="focusPassword = true" 
                                    (blur)="focusPassword = false"
                                />
                            </div>
                            <div class="validation-errors">
                                <ng-container *ngFor="let message of loginFormMessages.password">
                                    <div *ngIf="loginForm.get('password').hasError(message.type) && (loginForm.get('password').dirty || loginForm.get('password').touched)">
                                        <p class="error-message text-orange"><span>{{ message.message }}</span></p>
                                    </div>
                                </ng-container>
                            </div>
                        </div>

                    </form>

                    <div class="row align-items-center">
                        <div class="col-6 order-2">
                           <!-- <div class="custom-control custom-control-alternative custom-checkbox">
                                <input class="custom-control-input" id="customCheckLogin" type="checkbox" />
                                <label class="custom-control-label" for="customCheckLogin">
                                    <span>Remember me?</span>
                                </label>
                            </div>-->
                            <div class="text-center">
                                <button type="button" class="btn btn-primary float-right" (click)="login()">
                                    Log Masuk
                                </button>
                            </div>
                        </div>
                        <div class="col-6 order-1">
                            <label class="forget-label" (click)="navigatePage('forgot')">
                                <a class="pointer text-white">Lupa kata laluan?</a>
                            </label>
                        </div>
                    </div>
                </div>
            </div> 
        </div>
      </div>
    </div>
  </section>
